library(stringi)
library(purrr)
library(stringdist)
library(SoilTaxonomy)

## TODO: there are many subgroup formative elements missing from the dictionary, e.g. "xerollic"


# ST to the subgroup level
# this will eventually be placed into an R package data/ dir
ST <- read.csv('../ST-full-fixed.csv', stringsAsFactors = FALSE)

# formative elements
load('formative-elements.rda')


# sample taxa
x <- c('fluvaquentic haplofibrists', 'abruptic durixeralfs', 'typic haploxerolls', 'aquic cumulic hapludolls', 'argic borfundgus', 'barfic ustox', 'typic ustorthents', 'aridic lithic argixerolls', 'petroferric sombriudox')

# OrderFormativeElements(x)
# SubOrderFormativeElements(x)
# GreatGroupFormativeElements(x)
# SubGroupFormativeElements(x)



cat(explainST(x[9]), sep = '\n')

cat(explainST(x[8]), sep = '\n')


cat(explainST(x[1]), sep = '\n')


cat(explainST('aeric umbric endoaqualfs'), sep='\n')

cat(explainST('typic endoaqualfs'), sep = '\n')

cat(explainST(ST$tax_subgroup[200]), sep = '\n')
